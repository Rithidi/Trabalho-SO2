

participant Client
participant Message
participant Communicator
participant Protocol
participant NIC
participant Engine
participant NIC FÃ­sica

Client->Message: setData(src, size)
Message->Communicator: send(message, destination)
Communicator->Protocol: send(from, to, data, size)
Protocol->NIC: alloc(dst, prot, size)
NIC->Protocol: Buffer
Protocol->NIC: send(buf)
NIC->Engine: send(data, size)
Engine->NIC FÃ­sica: send(data, size)

NIC FÃ­sica->Engine: receive_loop()
Engine->Engine: process_queue()
Engine->NIC: receive(frame, size)
NIC->Protocol: notify(protocol_number, buffer)
Protocol->Communicator: notify(adr, message)
Communicator->Communicator: insert(message)
Communicator->Communicator: sem_post()
Message->Communicator: sem_wait()
Client->Message: data()